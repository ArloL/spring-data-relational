CREATE TABLE ENTITY_WITH_COLLECTIBLES
(
    ID BIGINT GENERATED BY DEFAULT AS IDENTITY ( START WITH 1 ) PRIMARY KEY
);

CREATE TABLE OTHER_ENTITY
(
    ID   BIGINT GENERATED BY DEFAULT AS IDENTITY ( START WITH 1 ) PRIMARY KEY,
    NAME VARCHAR(100)
);

CREATE TABLE SET_COLLECTIBLE
(
    ENTITY_WITH_COLLECTIBLES_ID INTEGER NOT NULL REFERENCES ENTITY_WITH_COLLECTIBLES (ID),
    OTHER_ENTITY_ID INTEGER NOT NULL REFERENCES OTHER_ENTITY (ID),
);

CREATE TABLE LIST_COLLECTIBLE
(
    ENTITY_WITH_COLLECTIBLES_ID INTEGER NOT NULL REFERENCES ENTITY_WITH_COLLECTIBLES (ID),
    INDEX INTEGER NOT NULL,
    NAME VARCHAR(100)
);

CREATE TABLE MAP_COLLECTIBLE
(
    ENTITY_WITH_COLLECTIBLES_ID INTEGER NOT NULL REFERENCES ENTITY_WITH_COLLECTIBLES (ID),
    NAME VARCHAR(100),
    VALUE INTEGER
);

CREATE TABLE ENTITY_WITH_NESTED_COLLECTIBLES
(
    ID BIGINT GENERATED BY DEFAULT AS IDENTITY ( START WITH 1 ) PRIMARY KEY
);

CREATE TABLE ROOT_LIST_COLLECTIBLE
(
    ID BIGINT GENERATED BY DEFAULT AS IDENTITY ( START WITH 1 ) PRIMARY KEY,
    INDEX INTEGER NOT NULL,
    ENTITY_WITH_NESTED_COLLECTIBLES_ID INTEGER NOT NULL REFERENCES ENTITY_WITH_NESTED_COLLECTIBLES (ID)
);

CREATE TABLE ROOT_SET_COLLECTIBLE
(
    ID BIGINT GENERATED BY DEFAULT AS IDENTITY ( START WITH 1 ) PRIMARY KEY,
    OTHER_ENTITY_ID INTEGER NOT NULL REFERENCES OTHER_ENTITY (ID),
    ENTITY_WITH_NESTED_COLLECTIBLES_ID INTEGER NOT NULL REFERENCES ENTITY_WITH_NESTED_COLLECTIBLES (ID),
);

CREATE TABLE ROOT_MAP_COLLECTIBLE
(
    ID BIGINT GENERATED BY DEFAULT AS IDENTITY ( START WITH 1 ) PRIMARY KEY,
    NAME VARCHAR(100),
    VALUE INTEGER,
    ENTITY_WITH_NESTED_COLLECTIBLES_ID INTEGER NOT NULL REFERENCES ENTITY_WITH_NESTED_COLLECTIBLES (ID),
);

CREATE TABLE NESTED_COLLECTIBLE
(
    ROOT_COLLECTIBLE_ID INTEGER NOT NULL,
    INDEX INTEGER NOT NULL,
    NAME VARCHAR(100)
);
